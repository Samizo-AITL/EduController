# ⚡️ 02. 過渡応答と定常偏差の基礎

制御系の性能を評価する上で、「どれだけ速く」「どれだけ正確に」目標値に到達するかは重要な指標です。本節では、時間領域での応答特性を中心に、過渡応答と定常誤差について学びます。

---

## 🎯 本節の学習目標

- 過渡応答の各評価指標（立ち上がり時間・オーバーシュートなど）を理解する
- 1次・2次系のステップ応答の典型的な振る舞いを把握する
- 定常偏差とその計算方法を習得する
- 応答の速さと精度のトレードオフを理解する

---

## ⏱️ 過渡応答とは？

**過渡応答（transient response）** とは、ステップ入力などに対して、出力が定常状態に到達するまでの一時的な振る舞いを指します。

---

### ✅ 代表的な評価指標

| 指標 | 記号 | 説明 |
|------|------|------|
| 立ち上がり時間 | $t_r$ | 応答が10%〜90%に達するまでの時間 |
| オーバーシュート | $M_p$ | 最大値が目標値を何％超えるか |
| セトリング時間 | $t_s$ | 応答が一定誤差範囲（±2%など）に収束するまでの時間 |
| 定常偏差 | $e_{ss}$ | 十分な時間経過後に残る誤差 |

---

## 📉 1次遅れ系の応答

システム：

$$
G(s) = \frac{1}{\tau s + 1}
$$

ステップ入力に対する応答：

$$
y(t) = 1 - e^{-t/\tau}
$$

- $\tau$ は時定数
- 過渡応答は単調増加、振動なし
- $t = \tau$ で出力は約63.2%に到達

---

## 🎯 2次系の応答（減衰あり）

システム：

$$
G(s) = \frac{\omega_n^2}{s^2 + 2\zeta\omega_n s + \omega_n^2}
$$

応答特性は減衰比 $\zeta$ に依存：

- $0 < \zeta < 1$：振動を伴う減衰応答（アンダーダンプ）
- $\zeta = 1$：臨界減衰（最速でオーバーシュートなし）
- $\zeta > 1$：オーバーダンプ（遅いが振動なし）

### オーバーシュートと減衰比の関係

$$
M_p = e^{\left( -\frac{\pi \zeta}{\sqrt{1 - \zeta^2}} \right)} \times 100[\%]
$$

---

## 🎯 定常偏差 $e_{ss}$ の計算

閉ループシステム $T(s) = \frac{G(s)C(s)}{1 + G(s)C(s)}$ において、入力が単位ステップ $R(s) = 1/s$ のとき：

$$
e_{ss} = \lim_{s \to 0} \left[ \frac{1}{1 + G(s)C(s)} \right]
$$

### 代表例：

| 系の型（Type） | 定常偏差（ステップ） |
|----------------|----------------------|
| Type 0 | 非ゼロ（比例） |
| Type 1 | ゼロ（積分あり） |
| Type 2 | ゼロ（高次積分） |

---

## 🧪 Pythonによる可視化例

例：1次・2次遅れ系のステップ応答比較  
→ `/simulation/transient_response.py` を参照

- `scipy.signal.step` or `control.step_response`
- 2次系：$\zeta$ と $\omega_n$ のパラメータ変更による応答変化

---

## 💬 まとめと実務的視点

- 応答は「速いが振動しやすい」 vs 「遅いが滑らか」のトレードオフ  
- PID設計では、$M_p$・$t_s$ などの設計仕様を満たすようにゲインを調整する  
- ハードウェア制御では、ノイズ・センサ遅れも考慮が必要  

---

## 📚 参考資料

- 森北出版「制御工学」  
- Franklin et al., *Feedback Control of Dynamic Systems*  
- Python: `control`, `matplotlib`

---
