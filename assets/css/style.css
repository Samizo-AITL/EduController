/* =========================================================
   Clean Docs Style (responsive + dark-mode ready)
   変数だけ調整すれば全体の雰囲気を統一できます
   ========================================================= */
:root{
  --font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;

  --fg: #24292e;
  --bg: #ffffff;
  --muted: #6a737d;
  --border: #e5e7eb;
  --soft: #f6f8fa;
  --accent: #0366d6;

  --maxw: 42rem;                /* 本文幅 */
  --pad-x: clamp(1rem, 4vw, 2rem);
  --pad-y: clamp(1.25rem, 4vw, 2rem);

  --lh: 1.65;
  --fs-base: 16px;
  --fs-small: 0.925rem;
  --radius: 8px;
  --shadow: 0 1px 2px rgba(0,0,0,.04);
}

/* ダークモード */
@media (prefers-color-scheme: dark){
  :root{
    --fg: #e6edf3;
    --bg: #0d1117;
    --muted: #8b949e;
    --border: #30363d;
    --soft: #161b22;
    --accent: #2f81f7;
    --shadow: none;
  }
}

/* ========= Base ========= */
html { scroll-behavior: smooth; }
body{
  font-family: var(--font-sans);
  font-size: var(--fs-base);
  line-height: var(--lh);
  color: var(--fg);
  background: var(--bg);
  margin: 0;
}

.container{
  max-width: var(--maxw);
  margin: 0 auto;
  padding: var(--pad-y) var(--pad-x);
}

/* 画像・埋め込みのはみ出し対策 */
img, svg, video{ max-width:100%; height:auto; }

/* ========= Typography ========= */
p{ margin: 0 0 1em; }
small, .small{ font-size: var(--fs-small); color: var(--muted); }

/* 見出し：h1だけ強、h2は区切り線、h3/4は余白のみ */
h1, h2, h3, h4{
  font-weight: 700;
  margin: 2rem 0 0.75rem;
  line-height: 1.3;
  scroll-margin-top: 6rem; /* アンカー時に被らないように */
}
h1{ font-size: clamp(1.75rem, 3vw, 2.25rem); letter-spacing: -0.01em; }
h2{
  font-size: clamp(1.35rem, 2.5vw, 1.65rem);
  border-bottom: 1px solid var(--border);
  padding-bottom: .4rem;
}
h3{ font-size: clamp(1.15rem, 2vw, 1.35rem); }
h4{ font-size: 1.05rem; color: var(--muted); }

/* ========= Links ========= */
a{
  color: var(--accent);
  text-decoration: underline;
  text-underline-offset: 2px;
}
a:hover{ text-decoration-thickness: 2px; }

/* ========= Code ========= */
code{
  font-family: var(--font-mono);
  background: var(--soft);
  border: 1px solid var(--border);
  padding: .15em .4em;
  border-radius: 6px;
  font-size: 0.95em;
}
pre{
  background: var(--soft);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.1rem;
  overflow-x: auto;
  box-shadow: var(--shadow);
  margin: 1rem 0 1.25rem;
}
pre code{
  background: transparent;
  border: 0;
  padding: 0;
  font-size: 0.95rem;
  display: block;
  line-height: 1.55;
}

/* ========= Tables ========= */
table{
  width: 100%;
  border-collapse: collapse;
  margin: 1.25rem 0;
  font-size: 0.98rem;
}
th, td{
  padding: .65rem .8rem;
  border: 1px solid var(--border);
  vertical-align: top;
}
th{
  text-align: left;
  background: var(--soft);
  font-weight: 700;
}
tbody tr:nth-child(odd){ background: color-mix(in lab, var(--soft) 60%, transparent); }

/* ========= Blockquotes ========= */
blockquote{
  margin: 1.25rem 0;
  padding: .75rem 1rem;
  background: var(--soft);
  border-left: .28rem solid var(--accent);
  color: var(--muted);
  border-radius: 6px;
}

/* ========= Lists ========= */
ul, ol{ padding-left: 1.25rem; margin: .75rem 0 1rem; }
li + li{ margin-top: .35rem; }

/* ========= Misc ========= */
hr{
  border: 0;
  border-top: 1px solid var(--border);
  margin: 2rem 0;
}
kbd{
  font-family: var(--font-mono);
  background: var(--soft);
  border: 1px solid var(--border);
  padding: .15em .5em;
  border-radius: 4px;
  box-shadow: var(--shadow);
}

/* ========= Title (layout側の自動H1を隠したい場合) ========= */
/* Minima などで .page-title/.post-title が出る場合の抑止 */
.page-title, .post-title{ display: none; }

/* ========= レスポンシブ余白（狭幅時に詰めすぎないよう調整） ========= */
@media (max-width: 420px){
  :root{ --pad-x: 1rem; }
}

/* ===== Reset-ish extras ===== */
*,
*::before,
*::after { box-sizing: border-box; }

@media (prefers-reduced-motion: reduce){
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important;
      transition-duration: .001ms !important; scroll-behavior: auto !important; }
}

/* 見出しの先頭余白を詰める */
.container > h1:first-child,
.container > h2:first-child { margin-top: 0; }

/* フォーカスの視認性 */
a:focus-visible,
button:focus-visible,
[tabindex]:focus-visible{
  outline: 2px solid color-mix(in lab, var(--accent) 70%, transparent);
  outline-offset: 2px;
}

/* 画像の行間ズレ防止 */
img, svg, video { display: block; }

/* コードの見やすさ強化 */
pre { -webkit-overflow-scrolling: touch; tab-size: 2; }
code, pre code { word-wrap: normal; word-break: normal; white-space: pre; }

/* MathJax（長式のはみ出し対策） */
.mjx-container { overflow-y: hidden; overflow-x: auto; }

/* 表の横スクロール（狭幅時） */
@media (max-width: 640px){
  table{ display: block; width: 100%; overflow-x: auto; white-space: nowrap; }
}

/* ダークモードのリンク強調を少し強める */
@media (prefers-color-scheme: dark){
  a:focus-visible{
    outline-color: color-mix(in lab, var(--accent) 85%, white 15%);
  }
}

/* SR向け：画面には出さないが読み上げる */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  margin: -1px; padding: 0; border: 0;
  white-space: nowrap; clip-path: inset(50%);
  clip: rect(0 0 0 0); overflow: hidden;
}
