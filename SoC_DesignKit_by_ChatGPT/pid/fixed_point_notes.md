---
layout: default
title: å›ºå®šå°æ•°ç‚¹æ¼”ç®—ã«é–¢ã™ã‚‹æ³¨æ„ç‚¹ï¼ˆQ4.4ï¼‰
permalink: /SoC_DesignKit_by_ChatGPT/fixed_point/q4_4_notes.html
---

---

# ğŸ§® å›ºå®šå°æ•°ç‚¹æ¼”ç®—ã«é–¢ã™ã‚‹æ³¨æ„ç‚¹ï¼ˆQ4.4ï¼‰  
*Notes on Fixed-Point Arithmetic (Q4.4 Format)*

Verilogã§PIDåˆ¶å¾¡å™¨ã‚„ä¿¡å·å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¨­è¨ˆã™ã‚‹éš›ã€  
**å›ºå®šå°æ•°ç‚¹ï¼ˆfixed-pointï¼‰æ¼”ç®—**ã‚’æ­£ã—ãæ‰±ã†ãŸã‚ã®ãƒã‚¤ãƒ³ãƒˆã‚’æ•´ç†ã—ã¾ã™ã€‚

---

## âœ… æ¡ç”¨ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ / Adopted Format

- æœ¬ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã¯ **Q4.4 å½¢å¼** ã‚’ä½¿ç”¨  
  *(8bit: ç¬¦å·1bit + æ•´æ•°éƒ¨3bit + å°æ•°éƒ¨4bit)*
- **å€¤ã®ç¯„å›²**ï¼š`-8.0` ï½ `+7.9375`
- **åˆ†è§£èƒ½**ï¼š`1/16 â‰’ 0.0625`

---

## ğŸ”§ å®Ÿè£…ä¸Šã®å·¥å¤« / Implementation Tips

| é …ç›® / Item | å†…å®¹ / Details |
|-------------|----------------|
| **ä¹—ç®—çµæœã®æ¡æ•°æ‹¡å¼µ** | `8bit Ã— 8bit = 16bit` æ¼”ç®—ã‚’è¡Œã„ã€**ä¸Šä½8bit**ã‚’æŠ½å‡ºã—ã¦Q4.4ã‚’ä¿æŒ |
| **ç©åˆ†é …ã®ç²¾åº¦ç¢ºä¿** | `reg [15:0] integral` ã¨ã—ã¦ä¿æŒã—ã€åŠ ç®—èª¤å·®ã‚„ç´¯ç©èª¤å·®ã«å¼·ã„è¨­è¨ˆ |
| **ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°** | å‡ºåŠ›æ™‚ã¯ `pid_raw[15:8]` ã‚’ä½¿ç”¨ã—ã€é©åˆ‡ã«Q4.4ã‚¹ã‚±ãƒ¼ãƒ«ã¸å¤‰æ› |

---

## ğŸ’¬ æ³¨æ„ç‚¹ / Cautions

- **ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼å¯¾ç­–**ï¼šé£½å’Œæ¼”ç®—ã‚„åˆ¶é™å‡¦ç†ã‚’çµ„ã¿è¾¼ã‚€ã“ã¨  
  *Use saturation logic to prevent overflow*
- **æ¡è½ã¡å¯¾ç­–**ï¼šéå¸¸ã«å°ã•ãª `Ki` ã§ã¯ç©åˆ†åŠ¹æœãŒç„¡è¦–ã•ã‚Œã‚‹å¯èƒ½æ€§ã‚ã‚Š  
  *Tiny `Ki` values may cause loss of effect due to truncation*

---

## ğŸ“˜ é–¢é€£æ•™æ / Related Materials

| ãƒ•ã‚¡ã‚¤ãƒ« / File | èª¬æ˜ / Description |
|-----------------|--------------------|
| [`pid_controller.v`](../pid_controller.v) | Verilog RTLãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ / PID Controller Template |
| [`c_to_hdl/`](../c_to_hdl/) | Câ†’Verilogå¤‰æ›æ¼”ç¿’ / C-to-HDL Conversion Exercises |

---

## ğŸ”– ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ / License

MIT License Â© 2025 [Shinichi Samizo](https://github.com/Samizo-AITL)
